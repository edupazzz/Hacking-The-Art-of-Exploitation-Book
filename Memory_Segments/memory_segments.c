#include  <stdio.h>

int global_var;

int global_initialized_var = 5;

void function() // Apenas uma funcao demo
{
  int stack_var; // Aviso: variavel com o memso nome que outra, na main()
  printf("the function's stack_var is at address 0x%08x\n", &stack_var);
}

int main()
{
  int stack_var; // mesmo nome que a var na 'function()'

  static int static_initialized_var = 5;
  static int static_var;
  int *heap_var_ptr;

  heap_var_ptr = (int *) malloc(4);

  // Variaveis no segmento de Dados (Data Segment)
   printf("static_initialized_var is at address 0x%08x\n", &static_initialized_var);
   printf("global_initialized_var is at address 0x%08x\n\n", &global_initialized_var);

 // Variaveis no bss segment (Block Start Symbol)
   printf("static_var is at 0x%08x\n", &static_var);
   printf("global_var is at 0x%08x\n\n", &global_var);

 // Variaveis na heap
   printf("heap_var is at address 0x%08x\n\n", heap_var_ptr);

 // Variaveis na Stack
   printf("stack_var is at 0x%08x\n", &stack_var);
   function();
}
